<div class="main-content page-m">
    <div class="section-content section-content-p30">
        <div class="container-fluid">
            <form [formGroup]="checkoutFormGroup" (ngSubmit)="onSubmit()" >

               <div formGroupName="customer" class="form-area">
                  <h3>Customer</h3>
                  <div class="row">
                      <div class="col-md-2"><label> First Name</label></div>
                      <div class="col-md-9">
                          <div class="input-space">
                              <input formControlName='firstName' type ="text">
                              <div *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)"  class="alert alert-danger mt-1">

                                <div *ngIf="firstName?.errors?.['required'] || firstName?.errors?.['notOnlyWhiteSpace']" >
                                  first Name is required
                                </div>
                                <div *ngIf="firstName?.errors?.['minlength']" >
                                  first Name must be at least 2 characters long.
                                </div>

                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2"><label> last Name</label></div>
                    <div class="col-md-9">
                        <div class="input-space">
                            <input formControlName='lastName' type ="text">

                            <div *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)"  class="alert alert-danger mt-1">

                              <div *ngIf="lastName?.errors?.['required'] || lastName?.errors?.['notOnlyWhiteSpace']" >
                                lastName  is required
                              </div>
                              <div *ngIf="lastName?.errors?.['minlength']" >
                                lastName Name must be at least 2 characters long.
                              </div>

                           </div>




                          </div>
                    </div>
                </div>
                <div class="row">
                  <div class="col-md-2"><label> email</label></div>
                  <div class="col-md-9">
                      <div class="input-space">
                          <input formControlName='email' type ="text">
                          <div *ngIf="email?.invalid && (email?.dirty || email?.touched)"  class="alert alert-danger mt-1">

                            <div *ngIf="email?.errors?.['required'] || email?.errors?.['notOnlyWhiteSpace']" >
                              lastName  is required
                            </div>
                            <div *ngIf="email?.errors?.['pattern']" >
                              email is not valid
                            </div>
                        </div>
                      </div>
                  </div>
              </div>
               </div>
                <!--shipping address-->
                <div formGroupName="shippingAddress" class="form-area">
                  <h3>Shipping Address</h3>
                  <div class="row">
                      <div class="col-md-2"><label>Country</label></div>
                      <div class="col-md-9">
                        <div class="input-space">
                          <select formControlName='country' (change)="handleCountryAndState('shippingAddress')">
                            <option  *ngFor="let country of countries" [ngValue]="country">{{country.name}}</option>
                          </select>
                          <div *ngIf="shippingAddressCountry?.invalid && (shippingAddressCountry?.dirty || firstName?.touched)"  class="alert alert-danger mt-1">

                            <div *ngIf="shippingAddressCountry?.errors?.['required'] " >
                              country Name is required
                            </div>


                          </div>
                        </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2"><label> Street</label></div>
                    <div class="col-md-9">
                        <div class="input-space">
                            <input formControlName='street' type ="text">

                            <div *ngIf="shippingAddressStreet?.invalid && (shippingAddressStreet?.dirty || shippingAddressStreet?.touched)"  class="alert alert-danger mt-1">

                              <div *ngIf="shippingAddressStreet?.errors?.['required'] || shippingAddressStreet?.errors?.['notOnlyWhiteSpace']" >
                                Street  is required
                              </div>
                              <div *ngIf="shippingAddressStreet?.errors?.['minlength']" >
                                Street Name must be at least 2 characters long.
                              </div>

                           </div>

                        </div>
                    </div>
                </div>
                <div class="row">
                  <div class="col-md-2"><label> City </label></div>
                  <div class="col-md-9">
                      <div class="input-space">
                          <input formControlName='city' type ="text">
                          <div *ngIf="shippingAddressCity?.invalid && (shippingAddressCity?.dirty || shippingAddressCity?.touched)"  class="alert alert-danger mt-1">

                            <div *ngIf="shippingAddressCity?.errors?.['required'] || shippingAddressCity?.errors?.['notOnlyWhiteSpace']" >
                              City  is required
                            </div>
                            <div *ngIf="shippingAddressCity?.errors?.['minlength']" >
                              City Name must be at least 2 characters long.
                            </div>

                         </div>
                      </div>
                  </div>
              </div>
              <div class="row">
                <div class="col-md-2"><label> State </label></div>
                <div class="col-md-9">
                  <div class="input-space">
                    <select formControlName='state'>
                      <option *ngFor="let state of statesShipping">{{state.name}}</option>
                </select>
                <div *ngIf="shippingAddressState?.invalid && (shippingAddressState?.dirty || shippingAddressState?.touched)"  class="alert alert-danger mt-1">

                  <div *ngIf="shippingAddressState?.errors?.['required'] " >
                    State Name is required
                  </div>


                </div>
                  </div>
                </div>
            </div>
            <div class="row">
              <div class="col-md-2"><label> Zip code </label></div>
              <div class="col-md-9">
                  <div class="input-space">
                      <input formControlName='zipCode' type ="text">
                      <div *ngIf="shippingAddressZipCode?.invalid && (shippingAddressZipCode?.dirty || shippingAddressZipCode?.touched)"  class="alert alert-danger mt-1">

                        <div *ngIf="shippingAddressZipCode?.errors?.['required'] || shippingAddressZipCode?.errors?.['notOnlyWhiteSpace']" >
                          Zip code  is required
                        </div>
                        <div *ngIf="shippingAddressZipCode?.errors?.['minlength']" >
                          Zip Code Name must be at least 2 characters long.
                        </div>

                     </div>
                  </div>
              </div>
          </div>
               </div>

               <!--CheckBox if the shippoing address is the same with billing Address-->

               <div class="input-space">
                <label class="au-checkbox">
                  <input type="checkbox" (change)="copyShippingAddressToBillingAddress($event)" checked>
                  <span class="au-checkmark"></span> Billing Address same as Shipping Address
                </label>
            </div>
               <!--billing Address -->
               <div formGroupName="billingAddress" class="form-area">

                <h3>Billing Address</h3>
                <div class="row">
                    <div class="col-md-2"><label>Country</label></div>
                    <div class="col-md-9">
                        <div class="input-space">
                          <select formControlName='country' (change)="handleCountryAndState('billingAddress')">
                                <option  *ngFor="let country of countries" [ngValue]="country">{{country.name}}</option>
                          </select>
                          <div *ngIf="billingAddressCountry?.invalid && (billingAddressCountry?.dirty || billingAddressCountry?.touched)"  class="alert alert-danger mt-1">

                            <div *ngIf="billingAddressCountry?.errors?.['required'] || billingAddressCountry?.errors?.['notOnlyWhiteSpace']" >
                              country  is required
                            </div>


                         </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                  <div class="col-md-2"><label> Street</label></div>
                  <div class="col-md-9">
                      <div class="input-space">
                          <input formControlName='street' type ="text">
                          <div *ngIf="billingAddressStreet?.invalid && (billingAddressStreet?.dirty || billingAddressStreet?.touched)"  class="alert alert-danger mt-1">

                            <div *ngIf="billingAddressStreet?.errors?.['required'] || billingAddressStreet?.errors?.['notOnlyWhiteSpace']" >
                              Street  is required
                            </div>
                            <div *ngIf="billingAddressStreet?.errors?.['minlength']" >
                              Street Name must be at least 2 characters long.
                            </div>

                         </div>
                      </div>
                  </div>
              </div>
              <div class="row">
                <div class="col-md-2"><label> City </label></div>
                <div class="col-md-9">
                    <div class="input-space">
                        <input formControlName='city' type ="text">
                        <div *ngIf="billingAddressCity?.invalid && (billingAddressCity?.dirty || billingAddressCity?.touched)"  class="alert alert-danger mt-1">

                          <div *ngIf="billingAddressCity?.errors?.['required'] || billingAddressCity?.errors?.['notOnlyWhiteSpace']" >
                            City  is required
                          </div>
                          <div *ngIf="billingAddressCity?.errors?.['minlength']" >
                            City Name must be at least 2 characters long.
                          </div>

                       </div>
                    </div>
                </div>
            </div>
            <div class="row">
              <div class="col-md-2"><label> State </label></div>
              <div class="col-md-9">
                  <div class="input-space">
                    <select formControlName='state'>
                      <option *ngFor="let state of statesbilling">{{state.name}}</option>
                </select>
                <div *ngIf="billingAddressState?.invalid && (billingAddressState?.dirty || billingAddressState?.touched)"  class="alert alert-danger mt-1">

                  <div *ngIf="billingAddressState?.errors?.['required'] || billingAddressState?.errors?.['notOnlyWhiteSpace']" >
                    state  is required
                  </div>


               </div>
                  </div>
              </div>
          </div>
          <div class="row">
            <div class="col-md-2"><label> Zip code </label></div>
            <div class="col-md-9">
                <div class="input-space">
                    <input formControlName='zipCode' type ="text">
                    <div *ngIf="billingAddressZipCode?.invalid && (billingAddressZipCode?.dirty || billingAddressZipCode?.touched)"  class="alert alert-danger mt-1">

                      <div *ngIf="billingAddressZipCode?.errors?.['required'] || billingAddressZipCode?.errors?.['notOnlyWhiteSpace']" >
                        Zip code  is required
                      </div>
                      <div *ngIf="billingAddressZipCode?.errors?.['minlength']" >
                        Zip Code Name must be at least 2 characters long.
                      </div>

                   </div>
                </div>
            </div>
        </div>
             </div>

             <!--Card information-->

             <div formGroupName="creditCard" class="form-area">
              <h3>Credit Card Information </h3>
              <div class="row">
                  <div class="col-md-2"><label>card Type</label></div>
                  <div class="col-md-9">
                      <div class="input-space">
                        <select formControlName='cardType'>
                              <option>visa</option>
                              <option>misterCard</option>
                        </select>
                        <div *ngIf="cardType?.invalid && (cardType?.dirty || cardType?.touched)"  class="alert alert-danger mt-1">

                          <div *ngIf="cardType?.errors?.['required']" >
                            Type of card  of card  is required
                          </div>

                      </div>
                      </div>
                  </div>
              </div>
              <div class="row">
                <div class="col-md-2"><label>Name On Card</label></div>
                <div class="col-md-9">
                    <div class="input-space">
                        <input formControlName='nameOnCard' type ="text">
                        <div *ngIf="nameOnCard?.invalid && (nameOnCard?.dirty || nameOnCard?.touched)"  class="alert alert-danger mt-1">

                          <div *ngIf="nameOnCard?.errors?.['required'] || nameOnCard?.errors?.['notOnlyWhiteSpace']" >
                            Name of card  of card  is required
                          </div>
                          <div *ngIf="nameOnCard?.errors?.['minlength']" >
                            name of card min is 2
                          </div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="row">
              <div class="col-md-2"><label> Card Number </label></div>
              <div class="col-md-9">
                  <div class="input-space">
                      <input formControlName='cardNumber' type ="text">
                      <div *ngIf="cardNumber?.invalid && (securityCode?.dirty || cardNumber?.touched)"  class="alert alert-danger mt-1">

                        <div *ngIf="cardNumber?.errors?.['required'] || cardNumber?.errors?.['notOnlyWhiteSpace']" >
                          security Code of card  is required
                        </div>
                        <div *ngIf="cardNumber?.errors?.['pattern']" >
                          security Code  of card  is not valid
                        </div>
                    </div>
                  </div>
              </div>
          </div>
          <div class="row">
            <div class="col-md-2"><label> Security Code </label></div>
            <div class="col-md-9">
                <div class="input-space">
                  <input formControlName='securityCode' type="text">
                  <div *ngIf="securityCode?.invalid && (securityCode?.dirty || securityCode?.touched)"  class="alert alert-danger mt-1">

                    <div *ngIf="securityCode?.errors?.['required'] || securityCode?.errors?.['notOnlyWhiteSpace']" >
                      security Code of card  is required
                    </div>
                    <div *ngIf="securityCode?.errors?.['pattern']" >
                      security Code  of card  is not valid
                    </div>
                </div>
                </div>
            </div>
        </div>
        <div class="row">
          <div class="col-md-2"><label> Expriation Month</label></div>
          <div class="col-md-9">
              <div class="input-space">
                  <select formControlName='ExpriationMonth' type ="text">
                    <option *ngFor="let item of creditCardMonth">
                      {{item}}
                    </option>

                  </select>
              </div>
          </div>
      </div>
      <div class="row">
        <div class="col-md-2"><label> Expriation Year</label></div>
        <div class="col-md-9">
            <div class="input-space">
                <select formControlName='ExpriationYear' (change)="handleMonthAndYear()">
                  <option *ngFor="let item of creditCardYear">{{item}}</option>
                </select>
            </div>
        </div>
    </div>
           </div>
            <div class='form-area'>
                <h3>Review Your Order</h3>
               <p>Total Quantity :{{totalQuantity}}</p>
               <p>Shipping : FREE </p>
               <p>Total Price : {{totalPrice}}</p>
            </div>
               <div class="text-center">
                <button type="submit" class="btn btn-info">Purchase</button>
            </div>
            </form>
        </div>

    </div>
</div>
